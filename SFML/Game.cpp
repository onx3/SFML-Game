#include "Game.h"

Game::Game()
    : mpWindow(nullptr)
    , mEvent()
{
    InitWindow();
}

//------------------------------------------------------------------------------------------------------------------------

Game::~Game()
{
    delete mpWindow;
}

//------------------------------------------------------------------------------------------------------------------------

void Game::PollEvents()
{
    while (mpWindow->pollEvent(mEvent))
    {
        switch (mEvent.type)
        {
            case sf::Event::Closed:
            {
                mpWindow->close();
                break;
            }
            case sf::Event::KeyPressed:
            {
                if (mEvent.key.code == sf::Keyboard::Escape)
                {
                    mpWindow->close();
                }
                break;
            }
        }
    }
}

//------------------------------------------------------------------------------------------------------------------------

void Game::Update()
{
    PollEvents();
}

//------------------------------------------------------------------------------------------------------------------------

void Game::Render()
{
    mpWindow->clear(sf::Color::Cyan);

    // Draw the Game

    mpWindow->display(); // Renderer is done keep at the end.
}

//------------------------------------------------------------------------------------------------------------------------

void Game::InitWindow()
{
    mpWindow = new sf::RenderWindow(sf::VideoMode(1000, 1000), "Game", sf::Style::Default);    
}

//------------------------------------------------------------------------------------------------------------------------
// EOF
//------------------------------------------------------------------------------------------------------------------------